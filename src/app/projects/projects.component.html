<div
    class="h-full flex flex-row flex-wrap content-start overflow-auto bg-black"
    [@projectAnimations]="projects !== undefined && projects.length > 0">
    <div
        class="project group basis-1/2 xl:basis-1/3 2xl:basis-1/4 flex-auto relative w-full aspect-sqrt-2 overflow-hidden">
        <div>
            <ng-template [cdkPortalOutlet]="randomImagePortal"></ng-template>
            <ng-template #insertImgPortalContent let-src="src" let-alt="alt">
                <img
                    @randomImageTrigger
                    src="{{ src }}"
                    alt="{{ alt }}"
                    class="w-full scale-[1.01] group-hover:scale-105 transition-transform ease-out duration-[1500ms] blur-md grayscale" />
            </ng-template>
        </div>
        <div class="absolute inset-0 flex justify-center items-center w-full h-full">
            <app-business-card></app-business-card>
        </div>
    </div>
    <div
        *ngFor="let p of projects"
        [routerLink]="['/projects', p.name]"
        class="project group basis-1/2 xl:basis-1/3 2xl:basis-1/4 flex-auto relative w-full aspect-sqrt-2 overflow-hidden">
        <img
            #imgPortalContent
            src="{{ p.mainImagePath('assets/images') }}"
            alt="{{ p.imagePathPrefix }}"
            class="w-full scale-[1.01] group-hover:scale-105 transition-transform ease-out duration-[1500ms]" />
        <div
            class="peer absolute inset-0 text-white h-full w-full px-8 pb-4 flex flex-col justify-end invisible group-hover:visible">
            <span class="font-normal">{{ p.enTitle }}</span>
            <span class="font-normal">{{ p.cnTitle }}</span>
        </div>
    </div>
</div>
<router-outlet></router-outlet>
